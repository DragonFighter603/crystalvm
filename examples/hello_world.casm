@0x00
main:
    mov message %0
    mov 0 %1
    print_loop:
        ld8 %0 %1 
        cmp %1 0
        jz print_end
        write 0 %1
        add %0 1 %0
        cmp %0 %1
    jmp print_loop
    print_end:
hlt:
    jmp hlt
// a variable
$align 0x10
code_end:
@align(code_end, align)
data:
    message:
        .ascii "hello, world\n\0"